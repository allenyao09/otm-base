<?xml version="1.0" encoding="utf-8"?>

<scenario>

	<commodities>
		<commodity id="1" name="global" />
		<commodity id="2" name="global_2" />
	</commodities>

	<network>

		<nodes>
			<node id="0" x="0" y="0"/> 
			<node id="1" x="-500" y="50"/>
			<node id="2" x="-500" y="-50"/>
			<node id="3" x="-50" y="500"/>
			<node id="4" x="50" y="500"/>
			<node id="5" x="500" y="-50"/>
			<node id="6" x="500" y="50"/>
			<node id="7" x="50" y="-500"/>
			<node id="8" x="-50" y="-500"/>
		</nodes>

		<links>
			<link id="1"  length="500" start_node_id="0"  end_node_id="1" roadparam="1" full_lanes="2"/>
			<link id="2"  length="500" start_node_id="2"  end_node_id="0" roadparam="1" full_lanes="2" roadgeom="1" />
			<link id="3"  length="500" start_node_id="0"  end_node_id="3" roadparam="1" full_lanes="2"/>
			<link id="4"  length="500" start_node_id="4"  end_node_id="0" roadparam="1" full_lanes="2" roadgeom="1" />
			<link id="5"  length="500" start_node_id="0"  end_node_id="5" roadparam="1" full_lanes="2"/>
			<link id="6"  length="500" start_node_id="6"  end_node_id="0" roadparam="1" full_lanes="2" roadgeom="1" />
			<link id="7"  length="500" start_node_id="0"  end_node_id="7" roadparam="1" full_lanes="2"/>
			<link id="8"  length="500" start_node_id="8"  end_node_id="0" roadparam="1" full_lanes="2" roadgeom="1" />
		</links>

		<roadgeoms>
			<roadgeom id="1" >
				<add_lanes lanes="1" side="l" start_pos="-0.05"/>
			</roadgeom>
		</roadgeoms>

		<roadparams>
			<roadparam id="1" capacity="1800" speed="100" jam_density="100" />
		</roadparams>

		<roadconnections>
			<roadconnection id="1" in_link="2" in_link_lanes="1" out_link="7" out_link_lanes="1#2" />
			<roadconnection id="2" in_link="2" in_link_lanes="2#3" out_link="5" out_link_lanes="1#2" />
			<roadconnection id="3" in_link="2" in_link_lanes="3" out_link="3" out_link_lanes="2" />

			<roadconnection id="4" in_link="4" in_link_lanes="1" out_link="1" out_link_lanes="2" />
			<roadconnection id="5" in_link="4" in_link_lanes="2#3" out_link="7" out_link_lanes="1#2" />
			<roadconnection id="6" in_link="4" in_link_lanes="3" out_link="5" out_link_lanes="2" />

			<roadconnection id="7" in_link="6" in_link_lanes="1" out_link="3" out_link_lanes="2" />
			<roadconnection id="8" in_link="6" in_link_lanes="2#3" out_link="1" out_link_lanes="1#2" />
			<roadconnection id="9" in_link="6" in_link_lanes="3" out_link="7" out_link_lanes="2" />

			<roadconnection id="10" in_link="8" in_link_lanes="1" out_link="5" out_link_lanes="2" />
			<roadconnection id="11" in_link="8" in_link_lanes="2#3" out_link="3" out_link_lanes="1#2" />
			<roadconnection id="12" in_link="8" in_link_lanes="3" out_link="1" out_link_lanes="2" />
		</roadconnections>

	</network>

	<demands>
		<demand link_id="2" commodity_id="1" start_time="0" dt="300">100,200,300,200,100,0</demand>
		<demand link_id="2" commodity_id="2" start_time="0" dt="300">10,20,30,20,10,0</demand>
		<demand link_id="4" commodity_id="1" start_time="0" dt="300">130,230,330,250,130,30</demand>
		<demand link_id="6" commodity_id="1" start_time="0" dt="300">150,250,350,250,150,50</demand>
		<demand link_id="8" commodity_id="1" start_time="0" dt="300">170,270,370,270,170,70</demand>
	</demands>

	<splits>
		<split_node node_id="0" commodity_id="1" link_in="2" start_time="0" dt="5">
			<split link_out="3">0.2</split>
			<split link_out="5">0.6</split>
			<split link_out="7">0.2</split>
		</split_node>
		<split_node node_id="0" commodity_id="1" link_in="4" start_time="0" dt="5">
			<split link_out="5">0.2</split>
			<split link_out="7">0.6</split>
			<split link_out="1">0.2</split>
		</split_node>
		<split_node node_id="0" commodity_id="1" link_in="6" start_time="0" dt="5">
			<split link_out="3">0.2</split>
			<split link_out="1">0.6</split>
			<split link_out="7">0.2</split>
		</split_node>
		<split_node node_id="0" commodity_id="1" link_in="8" start_time="0" dt="5">
			<split link_out="1">0.2</split>
			<split link_out="3">0.6</split>
			<split link_out="5">0.2</split>
		</split_node>

		<split_node node_id="0" commodity_id="2" link_in="2" start_time="0" dt="5">
			<split link_out="3">0.2</split>
			<split link_out="5">0.6</split>
			<split link_out="7">0.2</split>
		</split_node>
		<split_node node_id="0" commodity_id="2" link_in="4" start_time="0" dt="5">
			<split link_out="5">0.2</split>
			<split link_out="7">0.6</split>
			<split link_out="1">0.2</split>
		</split_node>
		<split_node node_id="0" commodity_id="2" link_in="6" start_time="0" dt="5">
			<split link_out="3">0.2</split>
			<split link_out="1">0.6</split>
			<split link_out="7">0.2</split>
		</split_node>
		<split_node node_id="0" commodity_id="2" link_in="8" start_time="0" dt="5">
			<split link_out="1">0.2</split>
			<split link_out="3">0.6</split>
			<split link_out="5">0.2</split>
		</split_node>
	</splits>

	<actuators>
		<actuator type="signal" id="0">
			<actuator_target id="0" type="node"/>
			<signal>
				<phase id="5" roadconnection_ids="1"/>
				<phase id="2" roadconnection_ids="2"/>
				<phase id="1" roadconnection_ids="7"/>
				<phase id="6" roadconnection_ids="8"/>
				<phase id="3" roadconnection_ids="4"/>
				<phase id="8" roadconnection_ids="5"/>
				<phase id="7" roadconnection_ids="10"/>
				<phase id="4" roadconnection_ids="11"/>			
			</signal>
		</actuator>		
	</actuators>

	<controllers>
		<controller type="sig_pretimed" id="0">
			<target_actuators ids="0"/>
			<schedule>
				<schedule_item cycle="40" offset="10" start_time="0">
					<stages>
						<stage order="1" phases="1,5" duration="10"/>
						<stage order="2" phases="2,6" duration="10"/>
						<stage order="3" phases="3,7" duration="10"/>
						<stage order="4" phases="4,8" duration="10"/>
					</stages>
				</schedule_item>
			</schedule>
		</controller>
	</controllers>

</scenario>
